<!doctype html> 
<html> 
<head> 
    <meta charset="utf-8"> 
    <title></title> 
    <style type="text/css">
*{margin: 0;padding: 0;list-style: none;}
div{width: 300px;height: 300px;background: #ccc;border: 1px solid black;display: none;}
div.active{
	display: block;
}
input.active{
	background: yellow;width: 50px;
}

    </style>
</head>
<body> 
<input value="1" type="button" class='active'>
<input value="2" type="button">
<input value="3" type="button">
<div class='active'>1111111111</div>
<div>222222222</div>
<div>33333333</div>
<script type="text/javascript">

	var index = 0;
	var allInput = document.getElementsByTagName('input');
	var allDiv = document.getElementsByTagName('div');

	for(var i = 0;i < allInput.length;i++){
		allInput[i].index = i;
		allInput[i].onclick = function(){
			for(var i = 0;i < allDiv.length;i++){
				allInput[i].className = '';
				allDiv[i].style.display = 'none';
			};
			this.className = 'active';
			allDiv[this.index].style.display = 'block';
		};
	};

	setInterval(show,2000);

	function show(){
		index++;
		return new Promise(function (resolve,reject){
			index == allDiv.length ? reject() : resolve();
		}).then(function(){
			for(var i = 0;i <allInput.length;i++){
				allInput[i].className = '';
				allDiv[i].style.display = 'none';
			}
			allInput[index].className = 'active';
			allDiv[index].style.display = 'block';
		}).catch(function(){
			index = -1,show();
		})
	}
	//setInterval()



</script>
</body>
</html>